<!--
    Synopsis of all incoming reports from mobile users. Displays all information 
    in a condensed fashion in an effective yet space-efficient design. Allows
    the ability for detailed filtering of reports. 
    Contents:
    - Scrollable list of reports
        - Icons displaying status of unopened/unsolved/solved
        - Summary of data fields
    - Page controls to manipulate list of reports
    - Filtering options
    - Search button to apply filters
    - [Standardized] Bottom border
    - [Standardized] Navagation bar - set to Dashboard
-->

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>CruzSafe: Reports</title>
        <!--Import Stylesheet-->
        <link
            href="./stylesheets/main.css"
            type="text/css"
            rel="stylesheet"
        />
        <link
            href="./stylesheets/reports.css"
            type="text/css"
            rel="stylesheet"
        />
        <!--Imports External Icon Font Library-->
        <!--TODO: Install all needed Icons & remove external dependency-->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        />
    </head>
    <body>
        <script src="./libs/NavLib.js"></script>
        <script src="./libs/report.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function(){
                setupReports(document);
            });
        </script>
        <!--Header-->
        <div class="topnav" id="topNav">
            <a href="./homepage.html"
                ><i class="fa fa-home" aria-hidden="true"></i> Home</a
            >
            <a class="active" href="./reports.html"
                ><i class="fa fa-folder" aria-hidden="true"></i> Reports</a
            >
            <a href="./analytics.html"
                ><i class="fa fa-pie-chart" aria-hidden="true"></i> Analytics</a
            >
            <a href="./admin.html"> Admin</a>
            <a href="./welcome.html"
                ><i class="fa fa-sign-out" aria-hidden="true"></i> Sign-Out</a
            >
            <a href="javascript:void(0);" class="icon" onclick="toggleTopNav()">
                <i class="fa fa-bars"></i>
            </a>
        </div>
        <!--Body-->
        <div class="row">
            <div id="filterOptions" class="transbox">
                <h1>Filters:</h1>
                <br />
                <p>Report Number(s):</p><br/><input></input> <br/>
                <p>Tag:</p><br/><input></input><br/>
                <p>User ID:</p><br/><input></input><br/>
                <p>User Name:</p><br/><input></input><br/>
                <p>User Phone:</p><br/><input></input><br/>
                <p>User Email:</p><br/><input></input><br/>
                <p>Date Range:</p><br/><input></input><br/>
                <p>Time Range:</p><br/><input></input><br/>
                <p>Location:</p><br/><input></input><br/>
            </div>
            <div id="reportColumn" class="column">
                <div id= "reportList"></div> <!--Div to be filled by setupReports()-->
                <center>
                    <div id= "navigationButtons" class= "transbox">
                        <button>first</button>
                        <button>prev</button>
                        <button>next</button>
                        <button>last</button>
                    </div>
                </center>
            </div>
        </div>
        <!--Report Div-->
        <center>
            <div id="report" class="modal">
                <form class="modal-content animate" method="POST">
                    <div class="imgcontainer">
                        <!--Close Button; closes Modal-->
                        <span
                            onclick="hideReport()"
                            class="close"
                            title="Close Modal"
                            ><i class="fa fa-times"></i
                        ></span>
                        <!--Report Content-->
                        <div id="reportContent" class="container">
                            <div class="row">
                                <div id="column1" class="column">
                                    <p>
                                        <b>Report:</b> #<span id = "incidentID">1913198</span> <b id="resolvedUnresolved">[Unresolved]</b>
                                    </p>
                                    <p><b>Time:</b> <span id="reportTS">20:23:12 - 2/7/19</span></p>
                                    <p><b>Location:</b> <span id="location">McHenry Library</span> <span id="actualPinned">(Actual)</span></p>
                                    <p><b>Tag:</b> <span id="tag">Broken Infrastructure</span></p>
                                    <br />
                                    <img
                                        id="reportMap"
                                        src="./assets/images/report_map.png"
                                        alt="report map"
                                    />
                                    <br />
                                    <img
                                        id="reportPhoto"
                                        src="./assets/images/report_photo.png"
                                        alt="report photo"
                                    />
                                </div>
                                <div id="column2" class="column">
                                    <br />
                                    <p><b>Name:</b> <span id="fullName">Arthurlot Li</span> - #<span id="mobileID">013405</span></p>
                                    <p><b>Phone:</b> <span id="phone">858 231 3906</span></p>
                                    <p><b>Email:</b> <span id="email">ali64@ucsc.edu</span></p>
                                    <br /><b>Report Body:</b> <br /><br />
                                    <p id = "body">
                                        I was on my way back home when I heard a funny
                                        sound coming from around the corner near
                                        McHenry. When I went to investigate, I found a
                                        pipe on the outside of the concrete wall on the
                                        ground floor that was leaking quite rapidly. I
                                        didn't have anything on me at the moment to plug
                                        the leak, and it was so late that there was
                                        nobody around, so make sure you guys send
                                        someone over there to patch it ASAP!<br /><br />This
                                        is my first time using this app, so I hope it
                                        gets through to you all. Fingers crossed!
                                    </p>
                                    <br />
                                    <div id="responseButtons">
                                        <button id="reportRespond">
                                            Respond
                                        </button>
                                        <button id="reportOther">
                                            Other Options
                                        </button>
                                        <button id="reportResolve">
                                            Resolved
                                        </button>
                                        <br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </center>

        <!--Code for launching report modal-->
        <script>
            function displayReport(id){
                generateSingleReport(id, document); // Intializes report display
            }
            function hideReport(){
                document.getElementById("report").style.display = "none";
            }
        </script>

        <!--Code for getting report info to display on buttons.-->
        <script>
            
        </script>

        <!--Footer-->
        <div class="footer">
            <div style="margin-top:5; margin-bottom:5">
                <p style="text-align: center">CruzSafe</p>
            </div>
        </div>
    </body>
</html>
