<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CruzSafe: Home</title>
        <!--Imports Stylesheet-->
        <link href="./stylesheets/main.css" type="text/css" rel="stylesheet" />
        <link
            href="./stylesheets/homepage.css"
            type="text/css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        />
        <script src="./libs/dashboard.js"></script>
    </head>
    <body>
        <header>
            <div class="topnav" id="topNav">
                <a class="active" href="./homepage.html"
                    ><i class="fa fa-home" aria-hidden="true"></i> Home</a
                >
                <a href="./intake.html"
                    ><i class="fa fa-paper-plane" aria-hidden="true"></i>
                    Intake</a
                >
                <a href="./reports.html"
                    ><i class="fa fa-folder" aria-hidden="true"></i> Reports</a
                >
                <a href="./analytics.html"
                    ><i class="fa fa-pie-chart" aria-hidden="true"></i>
                    Analytics</a
                >
                <a href="./admin.html">
                    <i class="fa fa-user-circle-o" aria-hidden="true"></i>
                    Admin</a
                >
                <a href="./"
                    ><i class="fa fa-sign-out" aria-hidden="true"></i>
                    Sign-Out</a
                >
                <a class="icon" onclick="toggleTopNav()">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </a>
            </div>
        </header>
        <main class="withHeader">
            <div class="row">
                <div class="column quarter">
                    <div class="row third leaf">
                        <img
                            id="responseChart"
                            src="./assets/images/response_chart.png"
                            class="imgcontainer"
                            alt="mock resonse time chart"
                        />
                    </div>
                    <div class="row twoThirds">
                        <iframe
                            id="coastalCampusMap"
                            class="column leaf"
                        ></iframe>
                    </div>
                </div>
                <div class="column half">
                    <div id="MainMap" style="width:80%;height:90%;"></div>
                </div>
                <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDi4bKzq04VojQXEGXec4wDsdRVZhht5vY&callback=MainMap"></script>
                <div class="column quarter">
                    <div class="row half leaf">
                        <div>
                            <p>
                                ----Information such as tags will go here----
                            </p>
                            <button
                                onclick="displayReport(150)"
                                id="latestReport"
                            >
                                LATEST REPORT
                            </button>
                            <div>
                                <button>User</button>
                                <button>Dispatch</button>
                                <button>Supervisor</button>
                                <button>Admin</button>
                                <button>Developer</button>
                            </div>
                        </div>
                    </div>
                    <div class="row half leaf">
                        <p>
                            ----Counter of unopened/unresolved reports here----
                        </p>
                    </div>
                </div>
            </div>
        </main>
        <div id="modalTarget"></div>
        <audio id="incomingTag1" src="./assets/sounds/Ball.wav"></audio>
        <audio id="incomingTag2" src="./assets/sounds/Chime.wav"></audio>
        <audio id="incomingTag3" src="./assets/sounds/Coins.wav"></audio>
        <audio id="incomingTag4" src="./assets/sounds/Crunch.wav"></audio>
        <audio id="incomingTag5" src="./assets/sounds/Maraca.wav"></audio>
        <audio id="incomingTag6" src="./assets/sounds/Shuffle.wav"></audio>
        <audio id="incomingTag0" src="./assets/sounds/Stapler.wav"></audio>
        <script src="./libs/modalLib.js"></script>
        <script src="./libs/NavLib.js"></script>
        <script src="./libs/reportSingle.js"></script>
        <script src="./libs/reportHomeRefresher.js"></script>
        <script src="./libs/reportHome.js"></script>

        <!--reportHomeRefresher code-->
        <input type="hidden" id="storedTS" />
        <script>
            setupModal("modalTarget", createReportModal);

            var tid = "";
            document.addEventListener("DOMContentLoaded", function() {
                // When DOM is loaded
                getTS(document, "storedTS", 1); // Gets the initial TS and sets up listener
            });

            // Sets up Timer to call function every 10 seconds;
            // Time is in milliseconds
            if (tid === "") {
                tid = setInterval(checkTS, 5000);
            }

            function checkTS() {
                // Process to test for a different timestamp.
                getTS(document, "storedTS", 0);
            }
        </script>
        <!--End reportHomeRefresher code-->
    </body>
</html>
