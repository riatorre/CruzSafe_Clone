<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CruzSafe: Admin</title>
        <!--Imports Stylesheet-->
        <link href="./stylesheets/main.css" type="text/css" rel="stylesheet" />
        <link href="./stylesheets/admin.css" type="text/css" rel="stylesheet" />
        <link
            href="./stylesheets/reports.css"
            type="text/css"
            rel="stylesheet"
        />
        <link
            href="./stylesheets/reportSingle.css"
            type="text/css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
        />
        <!--TODO: Actually get Chart.js working without importing it-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
    </head>
    <body>
        <header>
            <div class="topnav" id="topNav">
                <a href="./homepage.html"
                    ><i class="fa fa-home" aria-hidden="true"></i> Home</a
                >
                <a href="./intake.html"
                    ><i class="fa fa-paper-plane" aria-hidden="true"></i>
                    Intake</a
                >
                <a href="./reports.html"
                    ><i class="fa fa-folder" aria-hidden="true"></i> Reports</a
                >
                <a href="./analytics.html"
                    ><i class="fa fa-pie-chart" aria-hidden="true"></i>
                    Analytics</a
                >
                <a class="active" href="./admin.html">
                    <i class="fa fa-user-circle-o" aria-hidden="true"></i>
                    Admin</a
                >
                <a href="./settings.html"
                    ><i class="fa fa-cog" aria-hidden="true"></i> Settings</a
                >
                <a href="./"
                    ><i class="fa fa-sign-out" aria-hidden="true"></i>
                    Sign-Out</a
                >
                <a class="icon" onclick="toggleTopNav()">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </a>
            </div>
        </header>
        <main class="withHeader">
            <div class="facilityHeader">
                <div class="reportHeader">
                    <table>
                        <tbody>
                            <tr>
                                <td class="buttonFirstNameText">
                                    First
                                </td>
                                <td class="buttonlastNameText">
                                    Last
                                </td>
                                <td class="buttonTitleText">
                                    Title
                                </td>
                                <td class="buttonFacilityNameText">
                                    Facility
                                </td>
                                <td class="buttonRoleText">Role</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="facilityList">
                <div id="userList"></div>
            </div>
            <div class="reportDropdown">
                <span class="dropdown"
                    ><select
                        id="forwardDropdownAdmin"
                        autocomplete="off"
                        onchange="refreshPage()"
                    ></select
                ></span>
            </div>
            <div class="reportHeaderContainer">
                <div class="reportHeader">
                    <table>
                        <tbody>
                            <tr onclick="console.log('Row has been clicked')">
                                <td class="buttonResolvedUnresolved">
                                    Status
                                </td>
                                <td class="buttonReportIDText">
                                    Report #
                                </td>
                                <td class="buttonIncidentIDText">
                                    Inc #
                                </td>
                                <td class="buttonReportTSText">
                                    Date & Time
                                </td>
                                <td class="buttonTagText">Tag</td>
                                <td class="buttonLocationText">
                                    Location
                                </td>
                                <td class="buttonFullNameText">
                                    Name (Last, First)
                                </td>
                                <td class="buttonBodyText">
                                    Description
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="reportListContainer">
                <div id="reportList" class="reportList"></div>
            </div>
            <div class="reportBtns">
                <center>
                    <div class="navigationButtons">
                        <button
                            id="firstBtn"
                            class="btn navy rounded"
                            onClick="firstLast('reportList','first')"
                        >
                            First
                        </button>
                        <button
                            id="prevBtn"
                            class="btn navy rounded"
                            onClick="nextPrev('reportList',-1)"
                        >
                            Prev
                        </button>
                        <div id="reportListIndicators"></div>
                        <button
                            id="nextBtn"
                            class="btn navy rounded"
                            onClick="nextPrev('reportList',1)"
                        >
                            Next
                        </button>
                        <button
                            id="lastBtn"
                            class="btn navy rounded"
                            onClick="firstLast('reportList','last')"
                        >
                            Last
                        </button>
                    </div>
                </center>
            </div>
        </main>
        <div id="modalTarget"></div>
        <div id="modalTargetUser"></div>
        <script src="./libs/modalLib.js"></script>
        <script src="./libs/navLib.js"></script>
        <script src="./libs/adminList.js"></script>
        <script src="./libs/pagination.js"></script>
        <script src="./libs/reportSingle.js"></script>
        <script src="./libs/reportList.js"></script>
        <script src="./libs/adminCommands.js"></script>
        <!--User Refreshing code-->
        <script>
            const pageID = 1; // pageID tells getLatestTS what to do with gotten TS. 0 - homepage, 1 - intake, 2 - reports, 3 - analytics/admin (no impact on current screen)
            var webID = 1;
            setupModal("modalTarget", "reportModal", createReportModal);
            setupModal("modalTargetUser", "userModal", createUserModal);
            document.addEventListener("DOMContentLoaded", function() {
                // When DOM is loaded
                setupUsersList();
                setupListReports();
                displayFacilitiesAdmin();
            });
        </script>
    </body>
</html>
